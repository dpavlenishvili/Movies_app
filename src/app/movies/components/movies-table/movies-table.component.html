<dx-data-grid
  id="gridContainer"
  [dataSource]="movies$ | async"
  [showBorders]="true"
  (onRowClick)="onRowClick($event)">
  <dxo-paging [pageSize]="10"></dxo-paging>
  <dxo-pager
    [showPageSizeSelector]="true"
    [allowedPageSizes]="[10, 20, 50, 100]"
    [showInfo]="true">
  </dxo-pager>
  <dxo-search-panel
    [highlightCaseSensitive]="true"
    [visible]="true"
  ></dxo-search-panel>

  <dxi-column caption="Name"
              dataField="name"
              dataType="string"></dxi-column>
  <dxi-column caption="Category"
              dataField="category.name"
              dataType="string"></dxi-column>
  <dxi-column caption="Length"
              cellTemplate="lengthTemplate"
              dataType="string"></dxi-column>
  <div *dxTemplate="let movie of 'lengthTemplate'">
    <div>{{movie.data.length | MinutesToHours}}</div>
  </div>
</dx-data-grid>

<ng-container *ngIf="showMoviePopup">
  <app-movie-popup
    [showPopup]="showMoviePopup"
    [movie]="selectedMovie"
    (visibleChange)="showMoviePopup = $event">
  </app-movie-popup>
</ng-container>

